{% extends "base.html" %}
{% block title %}Log-in{% endblock %}
{% block content %}
    <h1>Log-in</h1>
    {% if form.errors %}
        <p>Your username and password didn't match. Please try again.</p>
    {% else %}
        <p>Please, use the following form to log-in:</p>
    {% endif %}
    <div class="login-form">
        <form action="{% url 'login' %}" method="post">
            {{ form.as_p }}
            {% csrf_token %}
            <input type="hidden" name="next" value="{{ next }}" />
            <p>
                <input type="submit" value="Log-in">
            </p>
        </form>
        <p>
            <a href="{% url 'password_reset' %}">Forgotten your password?</a>
        </p>
    </div>
    <div class="social">
        <ul>
            <li class="google">
                <a href="{% url 'social:begin' 'google-oauth2' %}">Sign in with Google</a>
            </li>
        </ul>
    </div>
{% endblock %}
{# We have added a hidden HTML <input> element to submit the value of a variable called next. This
variable is provided to the login view if you pass a parameter named next to the request, for example,
by accessing http://127.0.0.1:8000/account/login/?next=/account/.
The next parameter has to be a URL. If this parameter is given, the Django login view will redirect
the user to the given URL after a successful login. #}
